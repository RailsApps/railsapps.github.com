<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Rails and Google Analytics &#183; RailsApps</title>
    <link href="https://plus.google.com/u/0/b/117374718581973393536/117374718581973393536/posts/" rel="publisher" />
    <link rel="stylesheet" href="http://railsapps.github.com/css/bootstrap.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://railsapps.github.com/css/screen.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://railsapps.github.com/css/gollum.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://railsapps.github.com/css/site.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://railsapps.github.com/css/syntax.css" type="text/css" charset="utf-8" />
    <script src="http://code.jquery.com/jquery-1.6.min.js" type="text/javascript"></script>
    <script src="http://railsapps.github.com/javascript/jquery.text_selection-1.0.0.min.js" type="text/javascript"></script>
    <script src="http://railsapps.github.com/javascript/jquery.previewable_comment_form.js" type="text/javascript"></script>
    <script src="http://railsapps.github.com/javascript/jquery.tabs.js" type="text/javascript"></script>
    <script src="http://railsapps.github.com/javascript/gollum.js" type="text/javascript"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-5109366-14']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>

  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a href="http://railsapps.github.com/" class="brand">RailsApps Project</a>
        <ul class="pull-right nav">
          <li><a href="https://tutorials.railsapps.org/" class="google">Tutorials</a></li>
          <li><a href="http://twitter.com/rails_apps" class="twitter">Twitter</a></li>
          <li><a href="http://blog.railsapps.org/" class="twitter">Blog</a></li>
          <li><a href="https://github.com/RailsApps" class="github">GitHub Repository</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container">

    <div class="content wikistyle gollum textile">
      <h1>Rails and Google Analytics</h1>
<h4>by Daniel Kehoe</h4>
<p><em>Last updated 22 June 2012</em></p>
<p>Guide to using Google Analytics with Rails. Current best practices for Rails 3.2. Google Analytics is a free service that provides detailed data about website traffic and usage.</p>
<h3>RailsApps Examples and Tutorials</h3>
<p>This is a guide for developers using the example apps from the <a href="http://railsapps.github.com/">RailsApps</a> repository. The RailsApps project provides open source apps and detailed tutorials for Rails developers. Next time you build an app, check the <a href="http://railsapps.github.com/">RailsApps</a> project to see if we can save you some time with a starter app.</p>
<p><a href="http://www.twitter.com/rails_apps"><img src="http://twitter-badges.s3.amazonaws.com/t_logo-a.png" title="Follow on Twitter" alt="Follow on Twitter"></a> Follow <a href="http://twitter.com/rails_apps">@rails_apps</a> on Twitter for updates and timely Rails tips.</p>
<h2>Importance of Google Analytics</h2>
<p>If you don’t track usage of your web app and the source of traffic, you won’t have data to improve the site and you won’t know which traffic-building strategies are worthwhile. Tracking data closes the communication loop with your users; your website puts out a message and Google Analytics data shows how visitors respond. There are other services that help you track visitors and website usage but Google Analytics is free, easy to use, and familiar to most web developers.</p>
<h2>How It Works</h2>
<p>To collect usage and traffic data, every web page must contain a snippet of JavaScript code, referred to as the Google Analytics Tracking Code. The tracking code snippet includes a unique website identifier named the Google Analytics Tracking ID, which looks like this: <code>UA-XXXXXXX-XX</code>. You will obtain the JavaScript snippet and Tracking ID from the <a href="http://www.google.com/analytics/">Google Analytics website</a> when you set up an account for your website. You can set up an account for your website at any time. It’s advisable to set up the account before you deploy your app so you can obtain the Tracking ID and set up your app to use it. You’ll check your Google Analytics account later to verify that Google is collecting data.</p>
<p>The tracking code snippet loads a larger Javascript file (an 18KB file named ga.js) from the Google webserver that serves as a <a href="http://en.wikipedia.org/wiki/Web_beacon">web beacon</a>. The ga.js file is downloaded once and cached for the remainder of the session; often, it is already cached and doesn’t need to be downloaded because a visitor has (very likely) visited another website that cached the file.</p>
<p>Before December 2009, Google’s Javascript code could slow the loading of a page because page rendering could be blocked until the Google code finished downloading. Google introduced asynchronous JavaScript code to improve page performance. Now, the ga.js file downloads in parallel with other page assets. Page rendering can begin before the ga.js file is delivered. In practice, the ga.js file is often already cached.</p>
<p>Google recommended placing the original (synchronous JavaScript) snippet immediately before the final </p>
    </div><!-- class="content" -->

    <div class="comments" id="comments">
      <div class="content wikistyle gollum">
        <h2>Comments</h2>
      </div>
      <p>Is this helpful? Your encouragement fuels the project. Please tweet or add a comment. Couldn't get something to work? For the example apps and tutorials, it's best to open an issue on GitHub so we can help you.</p>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'railsapps'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div><!-- class="comments" -->

    <footer class="footer row">
      <div class="span4">
      <dl class="footer_nav">
      <dt>RailsApps &#183; Getting Started</dt>
        <dd><a href="http://railsapps.github.com/ruby-and-rails.html">Ruby and Rails</a></dd>
        <dd><a href="http://railsapps.github.com/what-is-ruby-rails.html">What is Ruby on Rails?</a></dd>
        <dd><a href="https://tutorials.railsapps.org/rails-tutorial">Rails Tutorial</a></dd>
        <dd><a href="http://railsapps.github.com/installing-rails.html">Installing Rails</a></dd>
        <dd><a href="http://railsapps.github.com/updating-rails.html">Updating Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-composer/">Rails Composer</a></dd>
        <dd><a href="http://railsapps.github.com/">Rails Examples</a></dd>
        <dd><a href="http://railsapps.github.com/rails-examples-tutorials.html">Rails Starter Apps</a></dd>
      </dl>
      </div>
      <div class="span4">
      <dl class="footer_nav">
      <dt>RailsApps &#183; Articles</dt>
        <dd><a href="http://railsapps.github.com/rails-heroku-tutorial.html">Heroku and Rails</a></dd>
        <dd><a href="http://railsapps.github.com/twitter-bootstrap-rails.html">Twitter Bootstrap and Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-javascript-include-external.html">JavaScript and Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-environment-variables.html">Rails Environment Variables</a></dd>
        <dd><a href="http://railsapps.github.com/rails-git.html">Git and GitHub with Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-send-email.html">Send Email with Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-haml.html">Haml and Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-default-application-layout.html">Rails Application Layout</a></dd>
        <dd><a href="http://railsapps.github.com/rails-html5-boilerplate.html">HTML5 Boilerplate for Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-3-2-example-gemfile.html">Example Gemfiles for Rails</a></dd>
        <dd><a href="http://railsapps.github.com/rails-application-templates.html">Rails Application Templates</a></dd>
        <dd><a href="http://railsapps.github.com/rails-product-planning.html">Rails Product Planning</a></dd>
        <dd><a href="http://railsapps.github.com/rails-project-management.html">Rails Project Management</a></dd>
      </dl>
      </div>
      <div class="span4">
      <dl class="footer_nav">
      <dt>RailsApps &#183; Tutorials</dt>
        <dd><a href="https://tutorials.railsapps.org/rails3-bootstrap-devise-cancan">Devise with CanCan and Twitter Bootstrap</a></dd>
        <dd><a href="https://tutorials.railsapps.org/rails-stripe-membership-saas">Rails Membership Site with Stripe</a></dd>
        <dd><a href="https://tutorials.railsapps.org/rails-recurly-subscription-saas">Rails Subscription Site with Recurly</a></dd>
        <dd><a href="https://tutorials.railsapps.org/rails-prelaunch-signup">Startup Prelaunch Signup Application</a></dd>
        <dd><a href="http://railsapps.github.com/tutorial-rails-devise-rspec-cucumber.html">Devise with RSpec and Cucumber</a></dd>
        <dd><a href="http://railsapps.github.com/tutorial-rails-mongoid-devise.html">Devise with Mongoid</a></dd>
        <dd><a href="http://railsapps.github.com/tutorial-rails-mongoid-omniauth.html">OmniAuth with Mongoid</a></dd>
        <dd><a href="http://railsapps.github.com/tutorial-rails-subdomains.html">Subdomains with Devise</a></dd>
      </dl>
      </div>
      <hr class="footer-divider">
    </footer>

  </div>

  </body>
</html>
